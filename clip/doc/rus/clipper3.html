<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=koi8-r">
<LINK REL=STYLESHEET TYPE="text/css" HREF="styl.css">
<TITLE>CLIP compiler</TITLE>
</HEAD>
<BODY background=fon.gif>
<h4>             Советы для быстрого старта </h4>
<p>
   Поставьте в окружение что-то типа <BR>
   <i>export CLIPROOT="/usr/local/clip"</i><br>
   В данный каталог будут проинсталлированы все необходимые файлы из
   дистрибутивов. Во время компиляции и исполнения из этого
   каталога, будет читатся необходимая для работы информация.

<hr>
   Основная программа, которая делает все (препроцессор, компилятор,
   транслятор в c-файлы и po-файлы, сборщик программы) - clip, но
   она использует gcc в качестве конечного компилятора и сборщика.
   Чтобы собрать простую программу надо выполнить: <BR>
   clip -e -s -M test.prg <BR>
   -e - create executable file <BR>
   -s - use share library <BR>
   -M - genereate MAIN procedure - этот ключик надо использовать если в
   теле программы явно не описана процедура MAIN.

<hr>
   Собирать программы можно:
   - в share режиме используя ключик -s.
   В этом случае исполняемый файл будет минимален, но он будет зависим
   от библиотеки $CLIPROOT/lib/libclip.so. <BR>
   - в static режиме, в данном случае надо явно указывать какие библиотеки
   надо подключать ( clip -e test.prg $CLIPROOT/lib/tools.a).
   При этом программа становится независимой от внешних файлов, но при этом
   в ее состав войдут все объектные и библиотечные файлы и размер программы
   может составлять несколько мегабайт.

<hr>
   Для того, чтобы компилировать любые ранее наработанные исходники из DOS,
   имена файлов должны быть в нижнем регистре (используйте утилиту
   lowname). Рекомендуем в ваших программах установить режим <BR>
   set translate path on <BR>
   для автоматической трансляции имен файлов и каталогов в нижний регистр
   во время выполнения программы.<BR>
   Процедура инициализации находится в prg/sys/sys_init.prg

<hr>
 При наличии в prg-модуле функции или процедуры с именем, равным
   имени prg-файла, автоматически включается компиляция с ключиком "-n"
   (модуль без стартовой процедуры), поэтому компилировать можно "по-умолчанию"
   т.е. без явного указания "-n" простым вызовом "clip *.prg" или
   "clip -p *.prg"

<hr>
 При обращении программ к данным на замонтированных файловых системах из
 других ОС (Novell,Win,...) могут быть проблемы с поддержкой блокировок
 и кеширующими механизмами. В частности библиотека поддержки Novell под freeBsd
 не поддерживает блокировки.
<center>
<hr>
&#169 Ю.Хныкин, <A HREF="mailto:uri@itk.ru">uri@itk.ru</A>, 2001
</center>
</body>
</html>
